var Intoor={init:function(){this.setMetaBoxToggles(),this.setMetaBoxCheckboxContainers(),this.setMetaBoxButtons(),this.exportCSV(),this.setPopularMetaBox()},setMetaBoxToggles:function(){jQuery('input[type="checkbox"]').on("change",function(){var e=jQuery(this).attr("id"),t=jQuery(this).parent().find("#hidden-"+e),o=jQuery(this).is(":checked")?"1":"0";t.val(o)})},setMetaBoxCheckboxContainers:function(){jQuery(".contained-checkbox").on("change",function(){var e=jQuery(this).val(),t=jQuery(this).parent().parent().parent().parent().parent().find(".checkbox-container-controller"),o=t.val(),n="";jQuery(this).is(":checked")?""===o?t.val(e):(n=o+","+e,n.replace(",,",","),t.val(n)):(n=o.replace(e,"").replace(",,",",").replace(/,jQuery/,"").replace(/^,/,""),t.val(n))})},setMetaBoxButtons:function(){jQuery(".meta-box-restore-defaults").on("click",function(e){e.preventDefault();var t=confirm("Are you sure you want to reset this meta box with the default values?");if(t){var o=jQuery(this).parent().parent(),n=o.find(".meta-box-form-section .meta-box-section-id").val(),a=o.find(".meta-box-form-defaults").html();o.find(".meta-box-form-section").remove(),o.find(".meta-box-buttons").before('<div class="meta-box-form-section">'+a+"</div>"),o.find(".meta-box-form-section .meta-box-section-id").val(n),Intoor.setMetaBoxToggles()}}),jQuery(".meta-box-add-form-section").on("click",function(e){e.preventDefault();var t=jQuery(this).parent().parent(),o=t.find(".meta-box-form-defaults").html();t.find(".meta-box-buttons").before('<div class="meta-box-form-section">'+o+"</div>"),Intoor.setMetaBoxToggles()}),jQuery(".meta-box-remove-form-section").on("click",function(e){e.preventDefault();var t=jQuery(this).parent().parent(),o=t.find(".meta-box-form-section").last();o.css("display","none").removeClass("meta-box-form-section").addClass("meta-box-form-section-disabled"),o.find(".meta-box-section-id").val("-"+o.find(".meta-box-section-id").val())})},exportCSV:function(){jQuery("#mailing-list-export-btn").on("click",function(e){e.preventDefault();var t=jQuery(this).data("api");window.open(t,"csv")})},setPopularMetaBox:function(){var e=0,t;jQuery("#popular-posts-popular").on("change",function(){t=parseInt(jQuery("#total-popular-count").text()),e=jQuery(this).is(":checked")?t+1:t-1,jQuery("#total-popular-count").text(e)})}};jQuery(function(){Intoor.init()});